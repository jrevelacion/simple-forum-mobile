import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  Alert,\n  ScrollView,\n} from 'react-native';\nimport { useRouter } from 'expo-router';\nimport { useAuth } from '../AuthContext';\n\nconst RegisterScreen = () => {\n  const router = useRouter();\n  const { register } = useAuth();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleRegister = async () => {\n    if (!username || !email || !password || !confirmPassword) {\n      Alert.alert('Error', 'Please fill in all fields');\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      Alert.alert('Error', 'Passwords do not match');\n      return;\n    }\n\n    if (password.length < 6) {\n      Alert.alert('Error', 'Password must be at least 6 characters');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await register(username, email, password);\n      router.replace('/(app)/home');\n    } catch (error) {\n      Alert.alert('Registration Failed', error.response?.data?.error || error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <View style={styles.content}>\n        <Text style={styles.title}>Simple Forum</Text>\n        <Text style={styles.subtitle}>Create Account</Text>\n\n        <TextInput\n          style={styles.input}\n          placeholder=\"Username\"\n          value={username}\n          onChangeText={setUsername}\n          editable={!loading}\n          autoCapitalize=\"none\"\n        />\n\n        <TextInput\n          style={styles.input}\n          placeholder=\"Email\"\n          value={email}\n          onChangeText={setEmail}\n          editable={!loading}\n          keyboardType=\"email-address\"\n          autoCapitalize=\"none\"\n        />\n\n        <TextInput\n          style={styles.input}\n          placeholder=\"Password\"\n          value={password}\n          onChangeText={setPassword}\n          secureTextEntry\n          editable={!loading}\n        />\n\n        <TextInput\n          style={styles.input}\n          placeholder=\"Confirm Password\"\n          value={confirmPassword}\n          onChangeText={setConfirmPassword}\n          secureTextEntry\n          editable={!loading}\n        />\n\n        <TouchableOpacity\n          style={[styles.button, loading && styles.buttonDisabled]}\n          onPress={handleRegister}\n          disabled={loading}\n        >\n          <Text style={styles.buttonText}>{loading ? 'Creating...' : 'Sign Up'}</Text>\n        </TouchableOpacity>\n\n        <TouchableOpacity onPress={() => router.back()} disabled={loading}>\n          <Text style={styles.link}>Already have an account? Login</Text>\n        </TouchableOpacity>\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f4f8',\n  },\n  content: {\n    flex: 1,\n    padding: 20,\n    justifyContent: 'center',\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#1a73e8',\n    marginBottom: 10,\n    textAlign: 'center',\n  },\n  subtitle: {\n    fontSize: 16,\n    color: '#666',\n    marginBottom: 30,\n    textAlign: 'center',\n  },\n  input: {\n    backgroundColor: '#fff',\n    borderRadius: 8,\n    padding: 15,\n    marginBottom: 15,\n    fontSize: 16,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n  },\n  button: {\n    backgroundColor: '#1a73e8',\n    borderRadius: 8,\n    padding: 15,\n    alignItems: 'center',\n    marginTop: 20,\n  },\n  buttonDisabled: {\n    opacity: 0.6,\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  link: {\n    color: '#1a73e8',\n    textAlign: 'center',\n    marginTop: 20,\n    fontSize: 14,\n  },\n});\n\nexport default RegisterScreen;\n
