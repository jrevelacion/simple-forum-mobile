import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  Alert,\n  ScrollView,\n} from 'react-native';\nimport { useRouter } from 'expo-router';\nimport { posts } from '../api';\n\nconst CreatePostScreen = () => {\n  const router = useRouter();\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleCreatePost = async () => {\n    if (!title || !content) {\n      Alert.alert('Error', 'Please fill in all fields');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await posts.create(title, content);\n      Alert.alert('Success', 'Post created!');\n      router.back();\n    } catch (error) {\n      Alert.alert('Error', error.response?.data?.error || error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <ScrollView style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity onPress={() => router.back()} disabled={loading}>\n          <Text style={styles.backButton}>‚Üê Back</Text>\n        </TouchableOpacity>\n        <Text style={styles.headerTitle}>New Post</Text>\n        <View style={{ width: 40 }} />\n      </View>\n\n      <View style={styles.content}>\n        <Text style={styles.label}>Title</Text>\n        <TextInput\n          style={styles.titleInput}\n          placeholder=\"What's on your mind?\"\n          value={title}\n          onChangeText={setTitle}\n          editable={!loading}\n          placeholderTextColor=\"#ccc\"\n        />\n\n        <Text style={styles.label}>Content</Text>\n        <TextInput\n          style={styles.contentInput}\n          placeholder=\"Share your thoughts...\"\n          value={content}\n          onChangeText={setContent}\n          editable={!loading}\n          multiline\n          textAlignVertical=\"top\"\n          placeholderTextColor=\"#ccc\"\n        />\n\n        <TouchableOpacity\n          style={[styles.button, loading && styles.buttonDisabled]}\n          onPress={handleCreatePost}\n          disabled={loading}\n        >\n          <Text style={styles.buttonText}>{loading ? 'Posting...' : 'Post'}</Text>\n        </TouchableOpacity>\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f4f8',\n  },\n  header: {\n    backgroundColor: '#1a73e8',\n    padding: 15,\n    paddingTop: 40,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  backButton: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  headerTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  content: {\n    padding: 20,\n  },\n  label: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 8,\n  },\n  titleInput: {\n    backgroundColor: '#fff',\n    borderRadius: 8,\n    padding: 15,\n    marginBottom: 20,\n    fontSize: 16,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n  },\n  contentInput: {\n    backgroundColor: '#fff',\n    borderRadius: 8,\n    padding: 15,\n    marginBottom: 20,\n    fontSize: 16,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n    minHeight: 200,\n  },\n  button: {\n    backgroundColor: '#1a73e8',\n    borderRadius: 8,\n    padding: 15,\n    alignItems: 'center',\n  },\n  buttonDisabled: {\n    opacity: 0.6,\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n\nexport default CreatePostScreen;\n
